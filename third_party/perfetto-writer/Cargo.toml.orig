[package]
name = "perfetto-writer"
version = "0.3.2"
edition = "2024"
license = "MIT"
description = "A utility package for writing protobuf encoded perfetto traces"

[dependencies]
anyhow = "1.0.100"
assert_matches = "1.5.0"
bytes = "1.10.1"
dashmap = "6.1.0"
nix = { version = "0.30.1", features = ["process", "pthread"] }
perfetto_protos = "0.51.1"
protobuf = { version = "3.7.2", features = ["bytes"] }
rand = "0.9.2"
smol_str = "0.3"

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }

[[bench]]
name = "intern_bench"
harness = false
